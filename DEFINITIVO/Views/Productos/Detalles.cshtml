@model Heldu.Entities.Models.Producto
@using Microsoft.AspNetCore.Identity
@using Heldu.Logic.Interfaces

<!-- Link que habilita las estrellas de valoración -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="~/css/Producto_Detalles.css" rel="stylesheet" type="text/css">
<script defer src="~/js/Producto_Detalles.js"></script>

<div class="row">
    <div class="col-10 offset-1">
        <div class="row">
            <div class="col-8 contenido-producto">
                <div id="carousel-thumb" class="carousel slide carousel-fade carousel-thumbnails" data-ride="carousel">
                    <div class="carousel-inner" role="listbox">
                        <div class="carousel-item active">
                            <img class="d-block imagenes-carousel" src="~/Productos/GetImage1/@Model.Id" alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block imagenes-carousel" src="~/Productos/GetImage2/@Model.Id" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block imagenes-carousel" src="~/Productos/GetImage3/@Model.Id" alt="Third slide">
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carousel-thumb" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon icono-carousel" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" id="control-next-carousel" href="#carousel-thumb" role="button" data-slide="next">
                        <span class="carousel-control-next-icon icono-carousel" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                    <div class="carousel-indicators">
                        <a class="normal-thumbnail-carousel" data-target="#carousel-thumb" data-slide-to="0" class="active">
                            <img src="~/Productos/GetImage1/@Model.Id" width="100">
                        </a>
                        <a class="normal-thumbnail-carousel" data-target="#carousel-thumb" data-slide-to="1">
                            <img src="~/Productos/GetImage2/@Model.Id" width="100">
                        </a>
                        <a class="normal-thumbnail-carousel" data-target="#carousel-thumb" data-slide-to="2">
                            <img src="~/Productos/GetImage3/@Model.Id" width="100">
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-4 ">
                <div class="row h-25 precios-producto-detalles">
                    <p id="precio-final-detalles" class="col-4">@Model.Precio€</p>
                    <p id="precio-inicial-detalles" class="col-3">@Model.PrecioFinal€</p>
                    <p id="descuento-detalles" class="col-3">Ahorro</p>
                </div>
                <div class="row">
                    <p>Media vendedor:</p>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star"></span>
                </div>
                <div class="row">
                    <p>@Model.Descripcion</p>
                </div>
                <div class="input-opciones-productos">
                    <form>
                        <input type="radio" id="opcion-producto-1" name="opciones-productos" value="">
                        <label for="male">Opción nº1 de producto</label><br>
                        <input type="radio" id="opcion-producto-2" name="opciones-productos" value="">
                        <label for="female">Opción nº2 de producto</label><br>
                        <input type="radio" id="opcion-producto-3" name="opciones-productos" value="">
                        <label for="other">Opción nº3 de producto</label>
                    </form>
                </div>
                <p id="precio-compra">Total</p>
                <button class="btn boton-comprar-producto">Comprar</button>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-7 offset-1 barra-opciones-producto">
        <div class="navbar navbar-default navegador-condiciones-productos">
            <div class="container-fluid">
                <div class="row ul-opciones-producto">
                    <a class="anclas-opciones">Condiciones</a>
                    <a class="anclas-opciones">Vendedor</a>
                    <a class="anclas-opciones">Opiniones</a>
                </div>
            </div>
        </div>
        <div>
            <div class="anclas-ocultar d-none">
                <a id="condiciones-producto-detalles">
                    Este es el texto que tenemos en la primera de las opciones con la explicación de los diferentes detalles
                </a>
            </div>
            <div class="anclas-ocultar d-none">
                <a id="vendedor-producto-detalles">
                    Este es el texto que tenemos en la primera de las opciones con la información del vendedor
                </a>
            </div>
            <div class="anclas-ocultar d-none">
                <a id="opiniones-producto-detalles">
                    Este es el texto que tenemos en la primera de las opciones con las opiniones de los usuarios
                </a>
            </div>
        </div>
    </div>
</div>
<!-- MODAL PARA AÑADIR COMENTARIOS-->
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="background: white;">
        <p>¿Qué te ha parecido el producto?</p>
        <div class="modal-content" style="display:flex; flex-direction:row;" id="div-estrellas-modal">
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
        </div>
        <div class="modal-content">
            @*<form method="post" asp-action="CrearReview" asp-route-ProductoId="@Model.Id" asp-route-UsuarioId="@usuario.IdentityUserId">*@
            <form method="post">
                <input type="text" placeholder="Añada su comentario" name="ComentarioUsuario" asp-action="CrearReview" rows="6" style="width:100%" />
                <input class="d-none" name="valoracionUsuario" type="text" id="incluir-valoracion" asp-action="CrearReview" />
                <input type="submit" value="Enviar comentario" />
            </form>
        </div>
    </div>
</div>

@if (User.IsInRole("admin"))
{
    <div>
        <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
        <a asp-action="Index2">Volver</a>
    </div>
}
<script src="~/js/Producto_Details.js"></script>
